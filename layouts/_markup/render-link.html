
{{- $u := urls.Parse .Destination -}}
{{- if $u.IsAbs }}
<a href="{{ .Destination | safeURL }}"
  {{- with .Title }} title="{{ . }}"{{ end -}}
   rel="external" target="_blank" class="extLink"
>
  {{- with .Text }}{{ . }}{{ end -}}
</a>
{{ else }}
{{- $u := path.BaseName .Destination -}}
<a href="/digital-garden/{{ $u | safeURL }}"
  {{- with .Title }} title="{{ . }}"{{ end -}}
>
  {{- with .Text }}{{ . }}{{ end -}}
</a>
{{ end -}}
{{- /* chomp trailing newline */ -}}